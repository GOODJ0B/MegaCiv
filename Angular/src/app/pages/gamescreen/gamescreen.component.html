<h2 class="content-block"></h2>

<dx-data-grid class="dx-card wide-card" [dataSource]="gameService.game.players" [showColumnLines]="true"
    [showRowLines]="false" [showBorders]="true" [rowAlternationEnabled]="true" [focusedRowEnabled]="false"
    [columnAutoWidth]="true" [columnHidingEnabled]="false">

    <dxo-paging [pageSize]="20"></dxo-paging>
    <dxo-pager [showPageSizeSelector]="false" [showInfo]="true"></dxo-pager>
    <dxo-filter-row [visible]="false"></dxo-filter-row>

    <dxi-column dataField="isActive" [width]="0" [selectedFilterOperation]="'='" [filterValue]="true"></dxi-column>
    <dxi-column dataField="civilizationName" caption="Civilization"></dxi-column>
    <dxi-column dataField="playerName" caption="Speler"></dxi-column>
    <dxi-column dataField="score" caption="score"></dxi-column>
    <dxi-column dataField="isReady" caption="Ready"></dxi-column>
    <dxi-column dataField="citiesOnBoard" caption="Steden"></dxi-column>
    <dxi-column dataField="tokensOnBoard" caption="units"></dxi-column>
    <dxi-column dataField="tokensInStock" caption="stock"></dxi-column>
    <dxi-column dataField="tokensInTreasury" caption="treasury"></dxi-column>

    <ng-container *ngIf="gameService.game.phase === 1">
        <dxi-column dataField="hasTaxRevolt" caption="Tax Revolt" cellTemplate="taxRevolt"></dxi-column>
        <dxi-column dataField="taxRate" caption="taxRate"></dxi-column>
        <dxi-column dataField="hasMonarchy" caption="Monarchy"></dxi-column>
        <dxi-column dataField="hasCoinage" caption="Coinage"></dxi-column>
        <div *dxTemplate="let item of 'taxRevolt'">
            <div style="background-color: red; color: white">
                {{ item.data.hasTaxRevolt ? 'TAX REVOLT' : '' }}
            </div>
        </div>
    </ng-container>

    <ng-container *ngIf="gameService.game.phase === 4">
        <dxi-column dataField="treasuryDifference" caption="Treasury won"></dxi-column>
        <dxi-column dataField="hasAdvancedMilitary" caption="Advanded Military"></dxi-column>
        <dxi-column dataField="hasEngineering" caption="Engineering"></dxi-column>
        <dxi-column dataField="hasMetalWorking" caption="Metal Working"></dxi-column>
        <dxi-column dataField="hasNavalWarfare" caption="Naval Warfare"></dxi-column>
    </ng-container>


</dx-data-grid>