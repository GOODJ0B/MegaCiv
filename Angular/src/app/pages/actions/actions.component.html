<h2 class="content-block">Fase {{ gameService.game.phase }} ({{ gameService.getPhaseName() }})</h2>

<div class="content-block dx-card responsive-paddings">
    <div *ngIf="gameService.game.phase === 1">
        Cities on board: <dx-number-box [(value)]="gameService.getCurrentPlayer().citiesOnBoard" [readOnly]="true"
            [max]="9" [min]="0" [showSpinButtons]="true" width="50px"></dx-number-box><br>
        Tax rate: <dx-number-box [(value)]="gameService.getCurrentPlayer().taxRate" (onValueChanged)="taxRateChanged();"
            [readOnly]="gameService.getCurrentPlayer().isReady || !(gameService.getCurrentPlayer().hasCoinage || gameService.getCurrentPlayer().hasMonarchy)"
            [max]="gameService.getCurrentPlayer().hasCoinage || gameService.getCurrentPlayer().hasMonarchy ?
             gameService.getCurrentPlayer().hasCoinage && gameService.getCurrentPlayer().hasMonarchy ? 4 : 3 : 2"
            [min]="gameService.getCurrentPlayer().hasCoinage ? 1 : 2" [showSpinButtons]="true" width="50px">
        </dx-number-box><br>
        Tax collected: <dx-number-box [(value)]="gameService.getCurrentPlayer().collectedTax" [readOnly]="true"
            [max]="18" [min]="0" [showSpinButtons]="true" width="50px"></dx-number-box><br>
        Treasury: <dx-number-box [(value)]="gameService.getCurrentPlayer().tokensInTreasury" [readOnly]="true"
            [max]="55" [min]="0" [showSpinButtons]="true" width="50px"></dx-number-box><br>
        <div style="color: red" *ngIf="gameService.getCurrentPlayer().hasTaxRevolt">
            TAX REVOLT!
        </div>
    </div>
    <div *ngIf="gameService.game.phase === 2 || gameService.game.phase === 5 || gameService.game.phase === 11">
        Tokens on board: <dx-number-box [(value)]="gameService.getCurrentPlayer().tokensOnBoard"
            (onValueChanged)="unitsChanged();" [readOnly]="gameService.getCurrentPlayer().isReady" [max]="55" [min]="0"
            [showSpinButtons]="true" width="50px"></dx-number-box><br>
        Tokens in stock: <dx-number-box [(value)]="gameService.getCurrentPlayer().tokensInStock"
            (onValueChanged)="stockChanged();" [readOnly]="gameService.getCurrentPlayer().isReady" [max]="55" [min]="0"
            [showSpinButtons]="true" width="50px"></dx-number-box><br>
        Treasury: <dx-number-box [(value)]="gameService.getCurrentPlayer().tokensInTreasury" [readOnly]="true"
            [max]="55" [min]="0" [showSpinButtons]="true" width="50px"></dx-number-box><br>
        Cities on board: <dx-number-box [(value)]="gameService.getCurrentPlayer().citiesOnBoard"
            (onValueChanged)="citiesOnBoardChanged();" [readOnly]="gameService.getCurrentPlayer().isReady" [max]="9"
            [min]="0" [showSpinButtons]="true" width="50px"></dx-number-box><br>
        Cities in stock: <dx-number-box [(value)]="gameService.getCurrentPlayer().citiesInStock" [readOnly]="true"
            [max]="9" [min]="0" width="50px"></dx-number-box><br>
        <div style="color: red"
            *ngIf="!(gameService.getCurrentPlayer().tokensOnBoard >= gameService.getCurrentPlayer().citiesOnBoard * (gameService.getCurrentPlayer().hasCulturalAscendancy ? 3 : 2))">
            Je hebt niet genoeg tokens op het bord om je steden te ondersteunen!
        </div>
    </div>
    <div *ngIf="gameService.game.phase === 3">
        Your place in queue: {{ gameService.getCurrentPlayer().censusOrder }}
        <br>
        Players left in front of you: {{ gameService.playersInFrontOfCurrentPlayerInQueue }}
        <br>
        Countdown: {{ gameService.countDownVisibleString }}
        <br><br>

        Ships on board: <dx-number-box [(value)]="gameService.getCurrentPlayer().shipsOnBoard"
            [readOnly]="gameService.getCurrentPlayer().isReady" [max]="4" [min]="0" [showSpinButtons]="true"
            width="50px"></dx-number-box><br>
        Treasury difference: <dx-number-box [(value)]="gameService.getCurrentPlayer().treasuryDifference"
            [readOnly]="gameService.getCurrentPlayer().isReady || gameService.getCurrentPlayer().shipsOnBoard === 0"
            [max]="0" [min]="-1 * gameService.getCurrentPlayer().tokensInTreasury" [showSpinButtons]="true"
            width="50px"></dx-number-box><br>
        Treasury: <dx-number-box [(value)]="gameService.getCurrentPlayer().tokensInTreasury" [readOnly]="true"
            [max]="55" [min]="0" width="50px"></dx-number-box><br>
    </div>
    <div *ngIf="gameService.game.phase === 4">
        Treasury won: <dx-number-box [(value)]="gameService.getCurrentPlayer().treasuryDifference"
            [readOnly]="gameService.getCurrentPlayer().isReady" [max]="gameService.getCurrentPlayer().tokensInStock"
            [min]="0" [showSpinButtons]="true" width="50px"></dx-number-box><br>
        Tokens in stock: <dx-number-box [(value)]="gameService.getCurrentPlayer().tokensInStock" [readOnly]="true"
            [max]="55" [min]="0" width="50px"></dx-number-box><br>
    </div>
    <!-- Fase 5 zit bij 2 -->
    <div *ngIf="gameService.game.phase === 6">
        Fase 6
    </div>
    <div *ngIf="gameService.game.phase === 7">
        Countdown: {{ gameService.countDownVisibleString }}
    </div>
    <div *ngIf="gameService.game.phase === 8">
        Fase 8
    </div>
    <div *ngIf="gameService.game.phase === 9">
        Fase 9
    </div>
    <div *ngIf="gameService.game.phase === 10">
        Fase 10
    </div>
    <!-- Fase 11 zit bij 2 -->
    <div *ngIf="gameService.game.phase === 12">
        Fase 12
    </div>
</div>